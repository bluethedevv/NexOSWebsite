<!DOCTYPE html>
<html lang="de" class="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>NexGroup â€“ NexOS</title>
  <meta name="description" content="NexOS â€“ das schnelle, sichere, moderne Linux-basierte Betriebssystem von NexGroup. Lade die neueste ISO herunter und starte direkt los." />
  <link rel="icon" href="/assets/nexos-icon.png" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    // Dark Mode Auto
    if (localStorage.theme === 'dark' || 
        (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
      document.documentElement.classList.add('dark')
    } else {
      document.documentElement.classList.remove('dark')
    }

    // Easter Egg: Konami Code
    let konami = [38,38,40,40,37,39,37,39,66,65];
    let input = [];
    window.addEventListener("keydown", (e) => {
      input.push(e.keyCode);
      if (input.toString().indexOf(konami) >= 0) {
        alert("ðŸŽ‰ Secret Unlocked: Du bist offiziell ein NexOS Insider!");
        document.getElementById("secret-message")?.classList.remove("hidden");
        input = [];
      }
    });
  </script>
</head>
<body class="font-sans bg-gray-50 text-gray-800 dark:bg-gray-900 dark:text-gray-200 transition-colors duration-500">

  <!-- Header -->
  <header class="bg-white dark:bg-gray-800 shadow-md sticky top-0 z-40">
    <div class="max-w-7xl mx-auto flex justify-between items-center p-4">
      <h1 class="text-2xl font-bold text-blue-600 dark:text-blue-400">NexGroup</h1>
      <nav class="space-x-6 hidden md:block">
        <a href="#features" class="hover:text-blue-600 dark:hover:text-blue-400 transition-colors">Features</a>
        <a href="#download" class="hover:text-blue-600 dark:hover:text-blue-400 transition-colors">Download</a>
        <a href="#support" class="hover:text-blue-600 dark:hover:text-blue-400 transition-colors">Support</a>
        <a href="#nexaccount" id="nav-login" class="hover:text-blue-600 dark:hover:text-blue-400 transition-colors">NexAccount</a>
        <button id="nav-logout" class="hidden bg-red-600/90 hover:bg-red-600 text-white px-3 py-1 rounded">Abmelden</button>
      </nav>
      <div class="md:hidden">
        <button id="menuBtn" class="p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700" aria-label="MenÃ¼ Ã¶ffnen">
          <svg class="h-6 w-6" viewBox="0 0 24 24"><path fill="currentColor" d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
        </button>
      </div>
    </div>
    <div id="mobileMenu" class="hidden md:hidden py-2 border-t border-gray-100 dark:border-gray-700 px-4 space-y-2">
      <a href="#features" class="block py-2">Features</a>
      <a href="#download" class="block py-2">Download</a>
      <a href="#support" class="block py-2">Support</a>
      <a href="#nexaccount" class="block py-2">NexAccount</a>
      <button id="nav-logout-mobile" class="hidden w-full bg-red-600/90 hover:bg-red-600 text-white px-3 py-2 rounded">Abmelden</button>
    </div>
  </header>

  <!-- Hero -->
  <section class="bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-20 animate-fadeIn">
    <div class="max-w-7xl mx-auto text-center">
      <h2 class="text-4xl font-bold mb-4 animate-slideUp">Willkommen bei NexOS</h2>
      <p class="text-lg mb-8 animate-slideUp delay-200">Das schnelle, sichere und moderne Linux-basierte Betriebssystem von NexGroup.</p>
      <a href="#download" class="bg-white text-blue-600 px-6 py-3 rounded-lg font-semibold hover:bg-gray-100 transform hover:scale-105 transition-all">Jetzt herunterladen</a>
      <div id="user-badge" class="hidden mt-6 text-sm bg-white/10 rounded px-3 py-1 inline-block">Eingeloggt als <span id="user-email"></span></div>
    </div>
  </section>

  <!-- Features -->
  <section id="features" class="max-w-7xl mx-auto py-16 px-4">
    <h3 class="text-3xl font-bold text-center mb-12">Warum NexOS?</h3>
    <div class="grid md:grid-cols-3 gap-8">
      <div class="bg-white dark:bg-gray-800 shadow rounded-lg p-6 text-center hover:shadow-lg transform hover:-translate-y-1 transition-all">
        <h4 class="font-bold text-lg mb-2">ðŸš€ Geschwindigkeit</h4>
        <p>Optimiert fÃ¼r maximale Leistung auf moderner und Ã¤lterer Hardware.</p>
      </div>
      <div class="bg-white dark:bg-gray-800 shadow rounded-lg p-6 text-center hover:shadow-lg transform hover:-translate-y-1 transition-all">
        <h4 class="font-bold text-lg mb-2">ðŸ”’ Sicherheit</h4>
        <p>Modernste Sicherheitsfunktionen fÃ¼r sorgenfreies Arbeiten.</p>
      </div>
      <div class="bg-white dark:bg-gray-800 shadow rounded-lg p-6 text-center hover:shadow-lg transform hover:-translate-y-1 transition-all">
        <h4 class="font-bold text-lg mb-2">ðŸŽ¨ Design</h4>
        <p>Eine elegante BenutzeroberflÃ¤che, die einfach zu bedienen ist.</p>
      </div>
    </div>
  </section>

  <!-- Download (gated) -->
  <section id="download" class="bg-gray-100 dark:bg-gray-800 py-16 px-4 text-center">
    <h3 class="text-3xl font-bold mb-6">NexOS herunterladen</h3>
    <p class="mb-8">Lade die neueste Version von NexOS (.iso) herunter. FÃ¼r den Download bitte mit NexAccount anmelden.</p>

    <!-- Download Gate (shown when logged OUT) -->
    <div id="download-gate" class="max-w-xl mx-auto bg-white dark:bg-gray-900 p-6 rounded-lg shadow">
      <p class="mb-4">ðŸ”’ Melde dich an, um die Download-Links zu sehen.</p>
      <a href="#nexaccount" class="inline-flex items-center justify-center px-6 py-3 rounded bg-blue-600 text-white font-semibold hover:bg-blue-700">Jetzt anmelden</a>
    </div>

    <!-- Download content (shown when logged IN) -->
    <div id="download-content" class="hidden max-w-5xl mx-auto">
      <div class="grid md:grid-cols-2 gap-8 mt-8">
        <!-- Mindestanforderungen -->
        <div class="bg-white dark:bg-gray-900 p-6 rounded-lg shadow hover:shadow-lg transition-all">
          <h4 class="font-bold mb-4 text-center">ðŸ“‰ Mindestanforderungen</h4>
          <ul class="list-disc list-inside text-gray-700 dark:text-gray-300">
            <li>RAM: 2 GB</li>
            <li>CPU: 2 Kerne</li>
            <li>Speicher: 10 GB frei</li>
            <li>BIOS oder UEFI</li>
          </ul>
        </div>
        <!-- Empfohlen -->
        <div class="bg-white dark:bg-gray-900 p-6 rounded-lg shadow hover:shadow-lg transition-all">
          <h4 class="font-bold mb-4 text-center">ðŸ“ˆ Empfohlene Anforderungen</h4>
          <ul class="list-disc list-inside text-gray-700 dark:text-gray-300">
            <li>RAM: 8 GB</li>
            <li>CPU: 4 Kerne oder mehr</li>
            <li>Speicher: 50 GB frei</li>
            <li>UEFI mit Secure Boot</li>
          </ul>
        </div>
      </div>

      <!-- Downloads-Kategorie -->
      <div class="mt-12 text-left bg-white dark:bg-gray-900 p-6 rounded-lg shadow">
        <h4 class="text-2xl font-bold mb-4">ðŸ“¦ Downloads</h4>
        <div class="overflow-x-auto">
          <table class="w-full text-sm">
            <thead class="text-left text-gray-600 dark:text-gray-300">
              <tr>
                <th class="py-2">Version</th>
                <th class="py-2">Build</th>
                <th class="py-2">Arch</th>
                <th class="py-2">GrÃ¶ÃŸe</th>
                <th class="py-2">VerÃ¶ffentlicht</th>
                <th class="py-2">Links</th>
              </tr>
            </thead>
            <tbody class="divide-y divide-gray-200 dark:divide-gray-700">
              <tr>
                <td class="py-3 font-medium">NexOS 1.0</td>
                <td class="py-3">Stable</td>
                <td class="py-3">x86_64</td>
                <td class="py-3">~2.1 GB</td>
                <td class="py-3">2025â€‘08â€‘01</td>
                <td class="py-3 space-x-2">
                  <a data-protected href="/downloads/nexos-1.0-stable-x86_64.iso" class="px-3 py-1 rounded bg-blue-600 text-white hover:bg-blue-700">ISO</a>
                  <a data-protected href="/downloads/sha256sums.txt" class="px-3 py-1 rounded border border-gray-300 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-800">SHA256</a>
                </td>
              </tr>
              <tr>
                <td class="py-3 font-medium">NexOS 1.1</td>
                <td class="py-3">Beta</td>
                <td class="py-3">x86_64</td>
                <td class="py-3">~2.2 GB</td>
                <td class="py-3">2025â€‘10â€‘15</td>
                <td class="py-3 space-x-2">
                  <a data-protected href="/downloads/nexos-1.1-beta-x86_64.iso" class="px-3 py-1 rounded bg-blue-600 text-white hover:bg-blue-700">ISO</a>
                  <a data-protected href="/downloads/1.1-beta-sha256.txt" class="px-3 py-1 rounded border border-gray-300 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-800">SHA256</a>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <p class="mt-4 text-gray-600 dark:text-gray-300 text-sm">Hinweis: Bitte die PrÃ¼fsummen vergleichen, um die IntegritÃ¤t sicherzustellen.</p>
      </div>
    </div>
  </section>

  <!-- Support -->
  <section id="support" class="max-w-7xl mx-auto py-16 px-4">
    <h3 class="text-3xl font-bold mb-6 text-center">Support & Community</h3>
    <p class="text-center mb-8">Tritt unserer Community bei und finde Hilfe, Tipps und Updates.</p>
    <div class="text-center">
      <a href="https://discord.gg/KpMU3uVhEy" class="bg-indigo-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-indigo-700 transform hover:scale-105 transition-all">
        ðŸ’¬ Discord Community
      </a>
    </div>
  </section>

  <!-- NexAccount (funktionierendes Login/Registrieren mit Firebase Auth) -->
  <section id="nexaccount" class="bg-gray-50 dark:bg-gray-900 py-16 px-4">
    <div class="max-w-4xl mx-auto">
      <h3 class="text-3xl font-bold text-center mb-6">ðŸ”‘ NexAccount</h3>
      <p class="mb-8 text-center text-gray-700 dark:text-gray-300">
        Melde dich an oder registriere dich, um Downloads freizuschalten und Beta-Builds zu erhalten.
      </p>

      <div class="bg-white dark:bg-gray-800 p-6 md:p-8 rounded-lg shadow-lg max-w-2xl mx-auto">
        <div class="flex justify-center mb-6 gap-2">
          <button id="tab-login" class="px-4 py-2 rounded bg-blue-600 text-white">Anmelden</button>
          <button id="tab-register" class="px-4 py-2 rounded border border-gray-300 dark:border-gray-600">Registrieren</button>
        </div>

        <!-- Login Form -->
        <form id="form-login" class="space-y-4">
          <div>
            <label class="block text-left font-semibold mb-1">Eâ€‘Mail</label>
            <input id="login-email" type="email" required placeholder="max@example.com" class="w-full px-4 py-2 rounded border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 focus:ring-2 focus:ring-blue-500" />
          </div>
          <div>
            <label class="block text-left font-semibold mb-1">Passwort</label>
            <input id="login-password" type="password" required placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" class="w-full px-4 py-2 rounded border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 focus:ring-2 focus:ring-blue-500" />
          </div>
          <div class="flex justify-between items-center">
            <button class="bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700" type="submit">Anmelden</button>
            <button id="btn-reset" type="button" class="text-blue-600 hover:underline">Passwort vergessen?</button>
          </div>
        </form>

        <!-- Register Form -->
        <form id="form-register" class="hidden space-y-4">
          <div>
            <label class="block text-left font-semibold mb-1">Anzeigename</label>
            <input id="reg-name" type="text" required placeholder="z. B. Max" class="w-full px-4 py-2 rounded border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 focus:ring-2 focus:ring-blue-500" />
          </div>
          <div>
            <label class="block text-left font-semibold mb-1">Eâ€‘Mail</label>
            <input id="reg-email" type="email" required placeholder="max@example.com" class="w-full px-4 py-2 rounded border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 focus:ring-2 focus:ring-blue-500" />
          </div>
          <div>
            <label class="block text-left font-semibold mb-1">Passwort</label>
            <input id="reg-password" type="password" minlength="6" required placeholder="Mind. 6 Zeichen" class="w-full px-4 py-2 rounded border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 focus:ring-2 focus:ring-blue-500" />
          </div>
          <button class="bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700" type="submit">Registrieren</button>
        </form>

        <p id="auth-message" class="mt-4 text-center text-sm"></p>
      </div>
    </div>
  </section>

  <!-- Secret Message -->
  <div id="secret-message" class="hidden fixed bottom-5 right-5 bg-yellow-400 text-black px-4 py-2 rounded shadow-lg">
    ðŸ”‘ Du hast das geheime NexOS Easter Egg gefunden!
  </div>

  <!-- Footer -->
  <footer class="bg-gray-900 text-white text-center py-6 mt-12">
    <p>&copy; 2025 NexGroup. Alle Rechte vorbehalten.</p>
  </footer>

  <!-- Animation Styles -->
  <style>
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    @keyframes slideUp { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
    .animate-fadeIn { animation: fadeIn 1s ease-out; }
    .animate-slideUp { animation: slideUp 0.8s ease-out; }
    .delay-200 { animation-delay: 0.2s; }
  </style>

  <!-- Firebase Auth (Modular CDN) -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import { getAuth, onAuthStateChanged, signInWithEmailAndPassword, createUserWithEmailAndPassword, sendPasswordResetEmail, signOut, sendEmailVerification, updateProfile } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";

    // TODO: ðŸ”§ ERSETZEN durch DEINE Firebase-Konfiguration
    const firebaseConfig = {
      apiKey: "REPLACE_ME",
      authDomain: "REPLACE_ME.firebaseapp.com",
      projectId: "REPLACE_ME",
      appId: "REPLACE_ME"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    // Tabs
    const tabLogin = document.getElementById('tab-login');
    const tabRegister = document.getElementById('tab-register');
    const formLogin = document.getElementById('form-login');
    const formRegister = document.getElementById('form-register');
    const message = document.getElementById('auth-message');

    function setMessage(text, type='info'){
      message.textContent = text;
      message.className = 'mt-4 text-center text-sm ' + (type==='error' ? 'text-red-500' : 'text-green-500');
    }

    tabLogin.addEventListener('click', ()=>{
      tabLogin.classList.add('bg-blue-600','text-white');
      tabRegister.classList.remove('bg-blue-600','text-white');
      formLogin.classList.remove('hidden');
      formRegister.classList.add('hidden');
      message.textContent = '';
    });
    tabRegister.addEventListener('click', ()=>{
      tabRegister.classList.add('bg-blue-600','text-white');
      tabLogin.classList.remove('bg-blue-600','text-white');
      formRegister.classList.remove('hidden');
      formLogin.classList.add('hidden');
      message.textContent = '';
    });

    // Login
    formLogin.addEventListener('submit', async (e)=>{
      e.preventDefault();
      const email = (document.getElementById('login-email')).value.trim();
      const pw = (document.getElementById('login-password')).value;
      try{
        await signInWithEmailAndPassword(auth, email, pw);
        setMessage('Erfolgreich angemeldet.');
      }catch(err){ setMessage(err.message, 'error'); }
    });

    // Register
    formRegister.addEventListener('submit', async (e)=>{
      e.preventDefault();
      const name = (document.getElementById('reg-name')).value.trim();
      const email = (document.getElementById('reg-email')).value.trim();
      const pw = (document.getElementById('reg-password')).value;
      try{
        const cred = await createUserWithEmailAndPassword(auth, email, pw);
        await updateProfile(cred.user, { displayName: name });
        try { await sendEmailVerification(cred.user); } catch {}
        setMessage('Account erstellt. Bitte Eâ€‘Mail prÃ¼fen (Verifizierung).');
      }catch(err){ setMessage(err.message, 'error'); }
    });

    // Reset password
    document.getElementById('btn-reset').addEventListener('click', async ()=>{
      const email = (document.getElementById('login-email')).value.trim();
      if(!email){ setMessage('Bitte zuerst deine Eâ€‘Mail im Feld eingeben.', 'error'); return; }
      try{ await sendPasswordResetEmail(auth, email); setMessage('Passwort-Reset gesendet.'); }catch(err){ setMessage(err.message, 'error'); }
    });

    // Auth state handling
    const gate = document.getElementById('download-gate');
    const content = document.getElementById('download-content');
    const userBadge = document.getElementById('user-badge');
    const userEmailSpan = document.getElementById('user-email');
    const navLogout = document.getElementById('nav-logout');
    const navLogoutMobile = document.getElementById('nav-logout-mobile');

    function setProtectedLinks(enabled){
      document.querySelectorAll('[data-protected]').forEach(a=>{
        if(enabled){ a.classList.remove('pointer-events-none','opacity-50'); }
        else { a.classList.add('pointer-events-none','opacity-50'); }
      })
    }

    onAuthStateChanged(auth, (user)=>{
      const loggedIn = !!user;
      gate.classList.toggle('hidden', loggedIn);
      content.classList.toggle('hidden', !loggedIn);
      userBadge.classList.toggle('hidden', !loggedIn);
      navLogout.classList.toggle('hidden', !loggedIn);
      navLogoutMobile.classList.toggle('hidden', !loggedIn);
      if(user){ userEmailSpan.textContent = user.email || user.displayName || 'User'; }
      setProtectedLinks(loggedIn);
    });

    // Sign out
    function doSignOut(){ signOut(auth).catch(()=>{}); }
    navLogout.addEventListener('click', doSignOut);
    navLogoutMobile.addEventListener('click', doSignOut);

    // Mobile Nav toggle
    const btn = document.getElementById('menuBtn');
    const menu = document.getElementById('mobileMenu');
    btn?.addEventListener('click', () => menu.classList.toggle('hidden'));
  </script>

  <!-- Hidden HTML Comment Secret -->
  <!-- SECRET: Projekt "NexBrew" startet Q4 2025 â€“ nix leaken ðŸ˜‰ -->
</body>
</html>
